{"ast":null,"code":"var _jsxFileName = \"/Users/krmpi/PycharmProjects/FER/moonstone-CCS/client/src/components/Gantt/Gantt.js\";\nimport React, { Component } from 'react';\nimport { gantt } from 'dhtmlx-gantt';\nimport 'dhtmlx-gantt/codebase/dhtmlxgantt.css';\nimport $ from \"jquery\";\nimport { jQuery } from 'jquery';\nimport jsonTimestamp from '../../static/config.json';\nimport jsonAction from '../../static/action.json';\nimport jsonStateLevelScenario from '../../static/state_level_scenario.json';\nexport default class Gantt extends Component {\n  constructor(props) {\n    super(props);\n    gantt.config.xml_date = \"%Y-%m-%d %H:%i\"; //gantt.config.autosize = \"xy\";\n\n    const {\n      tasks\n    } = this.props;\n    gantt.init(this.ganttContainer);\n    gantt.parse(tasks);\n    this.configSetup(); //Here we are loading the action from the action.json file\n\n    var actionLoaded = null;\n    var actionLabelz = [];\n    var priorityz = [];\n    actionLoaded = jsonAction.actions;\n    var keys = Object.keys(actionLoaded);\n    $.each(keys, function (i, val) {\n      actionLabelz.push({\n        \"key\": i,\n        \"label\": val\n      });\n    }); //Here we are loading the actors from the json file, this is where you should add the resources and to process data here also\n\n    var players = null;\n    var playersLabelz = [];\n    players = jsonStateLevelScenario.players;\n    var keys = Object.keys(players);\n    var cpt = 0;\n    $.each(players, function (i, val) {\n      $.each(val.actors, function (y, val2) {\n        playersLabelz.push({\n          \"key\": cpt,\n          \"label\": i + \".\" + val2.name\n        });\n        cpt++;\n      });\n    });\n\n    for (let r in playersLabelz) {\n      $('#holder').append($('<option>', {\n        value: r,\n        text: playersLabelz[r][\"label\"]\n      }));\n    }\n\n    var taskConfigText = null;\n    var jsonConfig = null;\n    jsonConfig = jsonTimestamp;\n    console.log(jsonTimestamp.priority); //for(let r in jsonTimestamp.priority){\n    //    priorityz.push({\"key\":r.key, \"label\":r.value })\n    //}\n    //priorityz = jsonTimestamp.priority;\n    //var  prrr = jsonTimestamp.priority;\n    //var keys2 = Object.keys(prrr);\n    //console.log(keys2);\n\n    $.each(jsonTimestamp.priority, function (i, val) {\n      priorityz.push({\n        \"key\": i,\n        \"label\": val\n      });\n    });\n    taskConfigText = jsonTimestamp.task_text;\n\n    for (let r in priorityz) {\n      $('#priority').append($('<option>', {\n        value: r,\n        text: priorityz[r]\n      }));\n    }\n    /*var task_sections = [\n        { name: \"description\", height: 50, map_to: \"text\", type: \"textarea\" },\n        { name: \"time\", height: 72, type: \"time\", map_to: \"auto\" },\n        { name: \"holder\", height: 50, map_to:\"holder\", type:\"select\",options:playersLabel},\n        { name:\"action\", height: 50, type:\"select\", options:actionLabel },\n        { name:\"priority\", height: 50, type:\"select\", options:priority }\n    ];*/\n    //this.setState({priority:priorityz, actionLabel:actionLabelz, playersLabel:playersLabelz}, () => console.log(this.state));\n    //console.log(priority);\n\n\n    console.log(this.state);\n    this.state = {\n      priority: priorityz,\n      actionLabel: actionLabelz,\n      playersLabel: playersLabelz\n    };\n  }\n\n  componentDidMount() {//console.log(playersLabelz);\n    //console.log(this.state);\n\n    /*gantt.attachEvent(\"onBeforeLightbox\", function(id) {\n        var task = gantt.getTask(id);\n        gantt.config.lightbox.sections = task_sections;\n        console.log(task_sections);\n        if(task.$new){\n            gantt._dhtmlx_confirm({\n                message:\"Create task?\",\n                title:\"Create task?\",\n                callback: function(res){\n                    console.log(\"res= \" + res);\n                    if(res){\n                        //..apply values\n                        delete task.$new;\n                        gantt.addTask(task);\n                    }else{\n                        gantt.deleteTask(task.id);\n                    }\n                }\n            });\n            return false;\n        }\n        return true;\n    });*/\n  }\n\n  setZoom(value) {\n    switch (value) {\n      case 'Hours':\n        gantt.config.scale_unit = 'day';\n        gantt.config.date_scale = '%d %M';\n        gantt.config.scale_height = 60;\n        gantt.config.min_column_width = 30;\n        gantt.config.subscales = [{\n          unit: 'hour',\n          step: 1,\n          date: '%H'\n        }];\n        break;\n\n      case 'Days':\n        gantt.config.min_column_width = 70;\n        gantt.config.scale_unit = 'week';\n        gantt.config.date_scale = '#%W';\n        gantt.config.subscales = [{\n          unit: 'day',\n          step: 1,\n          date: '%d %M'\n        }];\n        gantt.config.scale_height = 60;\n        break;\n\n      case 'Months':\n        gantt.config.min_column_width = 70;\n        gantt.config.scale_unit = 'month';\n        gantt.config.date_scale = '%F';\n        gantt.config.scale_height = 60;\n        gantt.config.subscales = [{\n          unit: 'week',\n          step: 1,\n          date: '#%W'\n        }];\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return this.props.zoom !== nextProps.zoom;\n  }\n\n  componentDidUpdate() {\n    gantt.render();\n  }\n\n  setColumns() {\n    console.log(gantt.config.columns);\n    gantt.config.columns = [{\n      name: \"text\",\n      label: \"Task name\",\n      tree: true,\n      width: 150\n    }, {\n      name: \"start_date\",\n      label: \"Start time\",\n      align: \"center\",\n      resize: true,\n      width: 120\n    }, {\n      name: \"end_date\",\n      label: \"End date\",\n      align: \"center\",\n      resize: true,\n      width: 120\n    }, {\n      name: \"priority\",\n      label: \"Priority\",\n      height: 22,\n      type: \"select\",\n      map_to: \"priority\",\n      options: this.state.priorityz,\n      default_value: \"Low\"\n    }, {\n      name: \"add\",\n      label: \"\",\n      width: 44\n    }];\n  }\n\n  configSetup() {\n    gantt.config.wide_form = 1;\n    gantt.config.work_time = true;\n    gantt.config.order_branch = true;\n    gantt.config.autoscroll = true;\n    gantt.config.auto_scheduling = true;\n    gantt.config.autoscroll_speed = 100;\n    gantt.config.fit_tasks = true;\n    gantt.config.scale_unit = this.props.zoom.scale_unit;\n    gantt.config.duration_unit = \"hour\";\n    gantt.config.scale_height = 50;\n    gantt.config.min_column_width = 1000;\n    gantt.config.date_scale = this.props.zoom.date_scale;\n    gantt.config.open_tree_initially = true;\n    gantt.config.subscales = this.props.zoom.subscales;\n\n    gantt.templates.timeline_cell_class = function (task, date) {\n      if (!gantt.isWorkTime({\n        task: task,\n        date: date\n      })) return \"week_end\";\n      return \"\";\n    };\n\n    gantt.setWorkTime({\n      hours: [9, 17]\n    });\n    gantt.setWorkTime({\n      day: 6,\n      hours: false\n    });\n    gantt.setWorkTime({\n      day: 7,\n      hours: false\n    });\n    gantt.locale.labels[\"milestone\"] = \"Milestone\";\n    gantt.config.buttons_left = [\"dhx_save_btn\", \"dhx_cancel_btn\", \"milestone\"];\n    gantt.config.buttons_right = [\"dhx_delete_btn\"]; //addTodayMarker();\n  }\n\n  getForm() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"my-form\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog modal-dialog-centered\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"exampleModalLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    }, \"Task editor\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 29\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputEmail1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 29\n      }\n    }, \"Task name\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }\n    }, \"Holder\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select\",\n      id: \"holder\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 29\n      }\n    })), \"Priority\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select\",\n      id: \"priority\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 29\n      }\n    })), \"Action\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"custom-select\",\n      id: \"actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 25\n      }\n    }), \"Start Date\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group date\",\n      id: \"datepicker1\",\n      \"data-target-input\": \"nearest\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control datetimepicker-input\",\n      \"data-target\": \"#datepicker1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      \"data-target\": \"#datepicker1\",\n      \"data-toggle\": \"datetimepicker\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-calendar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 71\n      }\n    }))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"randomDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 33\n      }\n    }, \"Start date randomness\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"randomDate\",\n      placeholder: \"Randomness you want to add (+ x days)or 0 randomness\",\n      defaultValue: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"duration\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 33\n      }\n    }, \"Duration\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"duration\",\n      placeholder: \"Duration of the task (days)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"random\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 33\n      }\n    }, \"Randomness\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"random\",\n      placeholder: \"Randomness you want to add (+/- x days)or 0 no randomness\",\n      defaultValue: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 29\n      }\n    }), \"Pre Condition\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"selectpicker\",\n      multiple: true,\n      \"data-live-search\": \"true\",\n      id: \"postCond\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"offsetPre\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 33\n      }\n    }, \"Pre condition offset\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"offsetPre\",\n      placeholder: \"+/- x days, default 0\",\n      defaultValue: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      name: \"save\",\n      value: \"Save\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 29\n      }\n    }, \"Save changes\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      name: \"close\",\n      value: \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 29\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      name: \"delete\",\n      value: \"Delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 29\n      }\n    }, \"Delete\"))))));\n  }\n\n  render() {\n    /*if (this.state.actionLabel == null){\n        return null;\n    }*/\n    this.setColumns();\n    const {\n      zoom\n    } = this.props;\n    this.setZoom(zoom);\n    /*gantt.attachEvent(\"onBeforeLightbox\", function(id) {\n        var task = gantt.getTask(id);\n        task.my_template = \"<span id='title1'>Holders: </span>\"+ task.users\n        +\"<span id='title2'>Progress: </span>\"+ task.progress*100 +\" %\";\n        return true;\n    });*/\n    //gantt.config.readonly = false;\n    //console.log(gantt.config.readonly);\n    //console.log(this.state.priority);\n\n    console.log(gantt.config.lightbox);\n    var task_sections = [{\n      name: \"description\",\n      height: 50,\n      map_to: \"text\",\n      type: \"textarea\",\n      focus: true\n    }, {\n      name: \"time\",\n      height: 72,\n      type: \"time\",\n      map_to: \"auto\"\n    }, {\n      name: \"holder\",\n      height: 50,\n      map_to: \"holder\",\n      type: \"select\",\n      options: this.state.playersLabel\n    }, {\n      name: \"action\",\n      height: 50,\n      map_to: \"action\",\n      type: \"select\",\n      options: this.state.actionLabel\n    }, {\n      name: \"priority\",\n      height: 50,\n      map_to: \"priority\",\n      type: \"select\",\n      options: this.state.priority\n    }]; //console.log(task_sections);\n\n    gantt.config.lightbox.sections = task_sections;\n    gantt.locale.labels.section_template = \"Details\";\n    gantt.attachEvent(\"onBeforeLightbox\", function (id) {\n      var task = gantt.getTask(id); //console.log(task);\n\n      task.my_template = \"<span id='title1'>Holder: </span>\" + task.holder + \"<span id='title2'>Action: </span>\" + task.action + \"<span id='title3'>Priority: </span>\" + task.priority;\n      return true;\n    });\n\n    gantt.showLightbox = function (id) {\n      var taskId = id;\n      var task = gantt.getTask(id);\n\n      if (!task.$new) {\n        taskId = id;\n        var task = gantt.getTask(id);\n        var form = this.getForm();\n        var input = form.querySelector(\"[name='description']\");\n        input.value = task.text; //Post condition\n        //Holder part\n\n        var holders = form.querySelector(\"[name='holder']\");\n        $('#holder').val(task.owner_id); //Date picker part\n\n        var day = moment(task.start_date);\n        $(\"#datepicker1\").datetimepicker({\n          defaultDate: day\n        }); //var day = moment(task.end_date);\n        //$(\"#datepicker2\").datepicker();\n        //$('#datepicker2').datepicker( \"setDate\", day.format('MM/DD/YYYY') );\n        //actions related part\n\n        $('#actions').val(task.action_id);\n        input.focus();\n\n        if (task.duration) {\n          $(\"#duration\").val(task.duration);\n        }\n\n        if (task.randomness) {\n          $(\"#random\").val(task.randomness);\n        } //form.style.display = \"block\";\n\n\n        $(\"#my-form\").modal('show');\n        form.querySelector(\"[name='save']\").onclick = save;\n        form.querySelector(\"[name='close']\").onclick = cancel;\n        form.querySelector(\"[name='delete']\").onclick = remove;\n      }\n    };\n\n    console.log(gantt.config.onBeforeLightbox); //gantt.config.lightbox.hidden = false;\n\n    gantt.refreshData();\n    gantt.render();\n    console.log(gantt.config.readonly);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: input => {\n        this.ganttContainer = input;\n      },\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 13\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/krmpi/PycharmProjects/FER/moonstone-CCS/client/src/components/Gantt/Gantt.js"],"names":["React","Component","gantt","$","jQuery","jsonTimestamp","jsonAction","jsonStateLevelScenario","Gantt","constructor","props","config","xml_date","tasks","init","ganttContainer","parse","configSetup","actionLoaded","actionLabelz","priorityz","actions","keys","Object","each","i","val","push","players","playersLabelz","cpt","actors","y","val2","name","r","append","value","text","taskConfigText","jsonConfig","console","log","priority","task_text","state","actionLabel","playersLabel","componentDidMount","setZoom","scale_unit","date_scale","scale_height","min_column_width","subscales","unit","step","date","shouldComponentUpdate","nextProps","zoom","componentDidUpdate","render","setColumns","columns","label","tree","width","align","resize","height","type","map_to","options","default_value","wide_form","work_time","order_branch","autoscroll","auto_scheduling","autoscroll_speed","fit_tasks","duration_unit","open_tree_initially","templates","timeline_cell_class","task","isWorkTime","setWorkTime","hours","day","locale","labels","buttons_left","buttons_right","getForm","lightbox","task_sections","focus","sections","section_template","attachEvent","id","getTask","my_template","holder","action","showLightbox","taskId","$new","form","input","querySelector","holders","owner_id","moment","start_date","datetimepicker","defaultDate","action_id","duration","randomness","modal","onclick","save","cancel","remove","onBeforeLightbox","refreshData","readonly"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { gantt } from 'dhtmlx-gantt';\nimport 'dhtmlx-gantt/codebase/dhtmlxgantt.css';\nimport $ from \"jquery\";\nimport { jQuery } from 'jquery';\nimport jsonTimestamp from '../../static/config.json';\nimport jsonAction from '../../static/action.json';\nimport jsonStateLevelScenario from '../../static/state_level_scenario.json';\n\nexport default class Gantt extends Component {\n    constructor(props){\n        super(props);\n\n        gantt.config.xml_date = \"%Y-%m-%d %H:%i\";\n        //gantt.config.autosize = \"xy\";\n        const { tasks } = this.props;\n        gantt.init(this.ganttContainer);\n        gantt.parse(tasks);\n        this.configSetup();\n\n        //Here we are loading the action from the action.json file\n  var actionLoaded = null;\n    var actionLabelz = [];\n    var priorityz = [];\n\n    actionLoaded = jsonAction.actions;\n    var keys = Object.keys(actionLoaded);\n      $.each(keys, function(i, val) {\n        actionLabelz.push({\"key\": i, \"label\": val})\n      });\n\n    //Here we are loading the actors from the json file, this is where you should add the resources and to process data here also\n    var players = null;\n    var playersLabelz = [];\n\n    players = jsonStateLevelScenario.players;\n    var keys = Object.keys(players);\n      var cpt = 0;\n      $.each(players, function(i, val) {\n        $.each(val.actors, function(y, val2) {\n          playersLabelz.push({\"key\": cpt, \"label\": i + \".\" + val2.name})\n          cpt++;\n        })\n      });\n      for(let r in playersLabelz){$('#holder').append($('<option>',{value: r,text: playersLabelz[r][\"label\"]}))}\n\n    var taskConfigText = null;\n    var jsonConfig = null;\n\n    jsonConfig = jsonTimestamp;\n    console.log(jsonTimestamp.priority);\n    //for(let r in jsonTimestamp.priority){\n    //    priorityz.push({\"key\":r.key, \"label\":r.value })\n    //}\n    //priorityz = jsonTimestamp.priority;\n\n    //var  prrr = jsonTimestamp.priority;\n    //var keys2 = Object.keys(prrr);\n    //console.log(keys2);\n      $.each(jsonTimestamp.priority, function(i, val) {\n        priorityz.push({\"key\": i, \"label\": val})\n      });\n    taskConfigText = jsonTimestamp.task_text;\n    for(let r in priorityz){$('#priority').append($('<option>',{value: r,text: priorityz[r]}))}\n\n        /*var task_sections = [\n            { name: \"description\", height: 50, map_to: \"text\", type: \"textarea\" },\n            { name: \"time\", height: 72, type: \"time\", map_to: \"auto\" },\n            { name: \"holder\", height: 50, map_to:\"holder\", type:\"select\",options:playersLabel},\n            { name:\"action\", height: 50, type:\"select\", options:actionLabel },\n            { name:\"priority\", height: 50, type:\"select\", options:priority }\n        ];*/\n\n     //this.setState({priority:priorityz, actionLabel:actionLabelz, playersLabel:playersLabelz}, () => console.log(this.state));\n     //console.log(priority);\n     console.log(this.state);\n\n        this.state = {\n            priority: priorityz,\n            actionLabel: actionLabelz,\n            playersLabel: playersLabelz\n        }\n    }\n\n    componentDidMount() {\n\n     //console.log(playersLabelz);\n     //console.log(this.state);\n\n        /*gantt.attachEvent(\"onBeforeLightbox\", function(id) {\n            var task = gantt.getTask(id);\n            gantt.config.lightbox.sections = task_sections;\n            console.log(task_sections);\n            if(task.$new){\n                gantt._dhtmlx_confirm({\n                    message:\"Create task?\",\n                    title:\"Create task?\",\n                    callback: function(res){\n                        console.log(\"res= \" + res);\n                        if(res){\n                            //..apply values\n                            delete task.$new;\n                            gantt.addTask(task);\n                        }else{\n                            gantt.deleteTask(task.id);\n                        }\n                    }\n                });\n                return false;\n            }\n            return true;\n        });*/\n    }\n\n    setZoom(value) {\n        switch (value) {\n            case 'Hours':\n                gantt.config.scale_unit = 'day';\n                gantt.config.date_scale = '%d %M';\n\n                gantt.config.scale_height = 60;\n                gantt.config.min_column_width = 30;\n                gantt.config.subscales = [\n                    { unit:'hour', step:1, date:'%H' }\n                ];\n            break;\n            case 'Days':\n                gantt.config.min_column_width = 70;\n                gantt.config.scale_unit = 'week';\n                gantt.config.date_scale = '#%W';\n                gantt.config.subscales = [\n                    { unit: 'day', step: 1, date: '%d %M' }\n                ];\n                gantt.config.scale_height = 60;\n            break;\n            case 'Months':\n                gantt.config.min_column_width = 70;\n                gantt.config.scale_unit = 'month';\n                gantt.config.date_scale = '%F';\n                gantt.config.scale_height = 60;\n                gantt.config.subscales = [\n                    { unit:'week', step:1, date:'#%W' }\n                ];\n            break;\n            default:\n            break;\n        }\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return this.props.zoom !== nextProps.zoom;\n    }\n\n    componentDidUpdate() {\n        gantt.render();\n    }\n\n    setColumns(){\n        console.log(gantt.config.columns)\n\n        gantt.config.columns =  [\n        {name:\"text\",       label:\"Task name\",  tree:true, width: 150 },\n        {name:\"start_date\", label:\"Start time\", align:\"center\", resize: true, width: 120 },\n        {name:\"end_date\",   label:\"End date\",   align:\"center\", resize: true, width: 120 },\n        {name:\"priority\",  label:\"Priority\", height:22, type:\"select\", map_to:\"priority\", options:this.state.priorityz, default_value:\"Low\"},\n        {name:\"add\",        label:\"\",           width:44 }\n    ];\n    }\n\n    configSetup() {\n      gantt.config.wide_form = 1;\n      gantt.config.work_time = true;\n      gantt.config.order_branch = true;\n      gantt.config.autoscroll = true;\n      gantt.config.auto_scheduling = true;\n      gantt.config.autoscroll_speed = 100;\n      gantt.config.fit_tasks = true;\n      gantt.config.scale_unit = this.props.zoom.scale_unit;\n      gantt.config.duration_unit = \"hour\";\n      gantt.config.scale_height = 50;\n      gantt.config.min_column_width = 1000;\n      gantt.config.date_scale = this.props.zoom.date_scale;\n      gantt.config.open_tree_initially = true;\n      gantt.config.subscales = this.props.zoom.subscales;\n      gantt.templates.timeline_cell_class = function(task, date){\n        if(!gantt.isWorkTime({task:task, date: date}))\n          return \"week_end\";\n        return \"\";\n      };\n      gantt.setWorkTime({\n        hours: [9,17]\n      })\n      gantt.setWorkTime({ day:6, hours:false });\n      gantt.setWorkTime({ day:7, hours:false });\n      gantt.locale.labels[\"milestone\"] = \"Milestone\";\n      gantt.config.buttons_left = [\"dhx_save_btn\", \"dhx_cancel_btn\", \"milestone\"];\n      gantt.config.buttons_right = [\"dhx_delete_btn\"];\n      //addTodayMarker();\n    }\n\n    getForm() {\n        return (\n    <>\n        <div className=\"modal fade\" id=\"my-form\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Task editor</h5>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <div className=\"form-group\">\n                            <label htmlFor=\"exampleInputEmail1\">Task name</label>\n                            <input className=\"form-control\" name=\"description\"></input>\n                        </div>\n                        <label>Holder</label>\n                        <div className=\"input-group mb-3\">\n                            <select className=\"custom-select\" id=\"holder\">\n                            </select>\n                        </div>\n                        Priority\n                        <div className=\"input-group mb-3\">\n                            <select className=\"custom-select\" id=\"priority\">\n                            </select>\n                        </div>\n                        Action\n                        <div className=\"input-group mb-3\">\n                            <select className=\"custom-select\" id=\"actions\">\n                            </select>\n                        </div>\n                        <br></br>\n                        Start Date\n                        <div className=\"form-group\">\n                            <div className=\"input-group date\" id=\"datepicker1\" data-target-input=\"nearest\">\n                                <input type=\"text\" className=\"form-control datetimepicker-input\" data-target=\"#datepicker1\"></input>\n                                <div className=\"input-group-append\" data-target=\"#datepicker1\" data-toggle=\"datetimepicker\">\n                                    <div className=\"input-group-text\"><i className=\"fa fa-calendar\"></i></div>\n                                    </div>\n                                </div>\n                            </div>\n                            <br></br>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"randomDate\">Start date randomness</label>\n                                <input type=\"text\" className=\"form-control\" id=\"randomDate\" placeholder=\"Randomness you want to add (+ x days)or 0 randomness\" defaultValue=\"0\"></input>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"duration\">Duration</label>\n                                <input type=\"text\" className=\"form-control\" id=\"duration\" placeholder=\"Duration of the task (days)\"></input>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"random\">Randomness</label>\n                                <input type=\"text\" className=\"form-control\" id=\"random\" placeholder=\"Randomness you want to add (+/- x days)or 0 no randomness\" defaultValue=\"0\"></input>\n                            </div>\n                            <br></br>\n                            Pre Condition\n                            <div className=\"input-group mb-3\">\n                                <select className=\"selectpicker\" multiple data-live-search=\"true\" id=\"postCond\">\n                                </select>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"offsetPre\">Pre condition offset</label>\n                                <input type=\"text\" className=\"form-control\" id=\"offsetPre\" placeholder=\"+/- x days, default 0\" defaultValue=\"0\"></input>\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-primary\" name=\"save\" value=\"Save\">Save changes</button>\n                            <button type=\"button\" className=\"btn btn-secondary\" name=\"close\" value=\"Close\">Close</button>\n                            <button type=\"button\" className=\"btn btn-danger\" name=\"delete\" value=\"Delete\">Delete</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n    }\n\n    render() {\n        /*if (this.state.actionLabel == null){\n            return null;\n        }*/\n\n        this.setColumns();\n        const { zoom } = this.props;\n        this.setZoom(zoom);\n\n        /*gantt.attachEvent(\"onBeforeLightbox\", function(id) {\n            var task = gantt.getTask(id);\n            task.my_template = \"<span id='title1'>Holders: </span>\"+ task.users\n            +\"<span id='title2'>Progress: </span>\"+ task.progress*100 +\" %\";\n            return true;\n        });*/\n        //gantt.config.readonly = false;\n        //console.log(gantt.config.readonly);\n\n        //console.log(this.state.priority);\n        console.log(gantt.config.lightbox);\n        var task_sections = [\n            { name: \"description\", height: 50, map_to: \"text\", type: \"textarea\", focus: true },\n            { name: \"time\", height: 72, type: \"time\", map_to: \"auto\" },\n            { name: \"holder\", height: 50, map_to:\"holder\", type:\"select\",options:this.state.playersLabel},\n            { name:\"action\", height: 50, map_to:\"action\", type:\"select\", options:this.state.actionLabel },\n            { name:\"priority\", height: 50, map_to:\"priority\", type:\"select\", options:this.state.priority }\n        ];\n\n        //console.log(task_sections);\n\n        gantt.config.lightbox.sections = task_sections;\n        gantt.locale.labels.section_template = \"Details\";\n        gantt.attachEvent(\"onBeforeLightbox\", function(id) {\n            var task = gantt.getTask(id);\n            //console.log(task);\n            task.my_template = \"<span id='title1'>Holder: </span>\"+ task.holder\n            +\"<span id='title2'>Action: </span>\"+ task.action+\"<span id='title3'>Priority: </span>\"+ task.priority;\n            return true;\n        });\n\n        gantt.showLightbox = function(id) {\n            var taskId = id;\n            var task = gantt.getTask(id);\n            if(!task.$new){\n                taskId = id;\n                var task = gantt.getTask(id);\n\n                var form = this.getForm();\n                var input = form.querySelector(\"[name='description']\");\n                input.value = task.text;\n\n                //Post condition\n                //Holder part\n                var holders = form.querySelector(\"[name='holder']\");\n                $('#holder').val(task.owner_id);\n\n                //Date picker part\n                var day = moment(task.start_date);\n                $(\"#datepicker1\").datetimepicker({defaultDate: day});\n                //var day = moment(task.end_date);\n                //$(\"#datepicker2\").datepicker();\n                //$('#datepicker2').datepicker( \"setDate\", day.format('MM/DD/YYYY') );\n\n                //actions related part\n                $('#actions').val(task.action_id);\n                input.focus();\n\n                if(task.duration){\n                    $(\"#duration\").val(task.duration);\n                }\n\n                if(task.randomness){\n                    $(\"#random\").val(task.randomness);\n                }\n\n                //form.style.display = \"block\";\n                $(\"#my-form\").modal('show');\n\n                form.querySelector(\"[name='save']\").onclick = save;\n                form.querySelector(\"[name='close']\").onclick = cancel;\n                form.querySelector(\"[name='delete']\").onclick = remove;\n            }\n        };\n\n\n\n\n        console.log(gantt.config.onBeforeLightbox);\n\n        //gantt.config.lightbox.hidden = false;\n\n\n        gantt.refreshData();\n        gantt.render();\n\n        console.log(gantt.config.readonly);\n\n        return (\n            <div\n                ref={(input) => { this.ganttContainer = input }}\n                style={{ width: '100%', height: '100%' }}\n            >\n            </div>\n        );\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}